import{C as E}from"./q-85815eba.js";import{I}from"./q-086cadbe.js";import{I as O}from"./q-428d01c3.js";import{T as x}from"./q-3239778f.js";import{l as C,a as j,d as T,e as L,T as k,E as m,P as i,_ as y,q as u,K as o,M as q,b as _,w as S}from"./q-cea67d7a.js";import{u as P}from"./q-08309875.js";import{d as D}from"./q-46496603.js";import{W as Y}from"./q-a4c7b99d.js";import"./q-97996d90.js";const A=s=>{var l,c;const t=C({}),n=j(E),a=T(0),r=u(()=>Promise.resolve().then(()=>f),"s_IRS0kAnqQjk",[n]);return L(u(()=>Promise.resolve().then(()=>f),"s_v8AbD1aNHkE",[n,a])),k(u(()=>Promise.resolve().then(()=>f),"s_HNO8DiUOiYM",[n,t])),m(y,{children:i("div",null,{class:"flex flex-row flex-wrap justify-start gap-3 items-center w-full p-5"},(n==null?void 0:n.cart)&&m(y,{children:(c=(l=n==null?void 0:n.cart)==null?void 0:l.products)==null?void 0:c.map(e=>{var h,w,d,g,b,v;return i("div",null,{class:"card w-96 bg-base-100 shadow-xl"},[i("figure",null,null,m(I,{alt:e==null?void 0:e.product_name,class:" object-contain self-center w-32 h-32",layout:"fill",onError$:u(()=>import("./q-876ebc4d.js"),"s_0FclV3pZ7p4"),src:(h=e==null?void 0:e.product_img)!=null&&h.includes("http")?e==null?void 0:e.product_img:(w=e==null?void 0:e.product_img)==null?void 0:w.replace(".",""),[o]:{class:o,layout:o,onError$:o}},3,"Y2_0"),1,null),i("div",null,{class:"card-body"},[i("h2",null,{class:"card-title"},[" ",(d=e.product_name)!=null&&d.includes("CR")?(g=e.product_name)==null?void 0:g.replace(/CR.*/,""):e.product_name],1,null),i("p",null,{class:"text-black text-xs md:text-sm"},(e==null?void 0:e.variation_name)??"",1,null),m(O,{product:e,get country(){return s.currencyObject.cur},[o]:{country:q(Q=>Q.currencyObject.cur,[s])}},3,"Y2_1"),i("div",null,{class:"flex flex-col gap-1"},i("p",null,{class:"text-black md:text-sm text-xs"},(v=parseFloat(e.price))==null?void 0:v.toLocaleString("en-US",{style:"currency",currency:((b=s.currencyObject)==null?void 0:b.cur)==="1"?"USD":"CAD"}),1,null),1,null),i("div",null,{class:"card-actions justify-end"},i("button",{onClick$:u(()=>Promise.resolve().then(()=>f),"s_sA08zi1MNyw",[r,e])},{class:"btn text-[#CC0000] m-2 ml-auto"},m(x,{classes:"md:w-5 md:h-5 w-4 h-4",[o]:{classes:o}},3,"Y2_2"),0,null),1,null)],1,null)],1,P())})},1,"Y2_3"),1,null)},1,"Y2_4")},N=()=>{const[s,t]=_();s(t)},M=async s=>{var l;const[t]=_(),a=await(await D("/api/cart/",JSON.stringify(s))).json();t.cart.products=a.products,t.cart.totalQuantity=a.totalQuantity;const r=(l=a==null?void 0:a.products)==null?void 0:l.reduce((c,e)=>c+e.price*e.quantity,0);t.cart.totalPrice=r},R=({track:s})=>{var a;const[t,n]=_();s(()=>{var r;return(r=t==null?void 0:t.cart)==null?void 0:r.products}),n.value=(a=t==null?void 0:t.cart)==null?void 0:a.totalQuantity},p=()=>{var a,r;const s=C({}),t=j(Y),n=u(()=>Promise.resolve().then(()=>f),"s_2jlGCqiDDr4",[t]);return k(u(()=>Promise.resolve().then(()=>f),"s_gfqtG9zKc0k",[t,s])),m(y,{children:[i("div",null,{class:"pl-6 flex flex-col gap-4"},i("p",null,{class:"text-black text-xs md:text-base"},["You have"," ",q(l=>{var c,e,h,w;return((e=(c=l==null?void 0:l.wishList)==null?void 0:c.data)==null?void 0:e.length)>0?(w=(h=l==null?void 0:l.wishList)==null?void 0:h.data)==null?void 0:w.length:0},[t])," ","item in your wishlist"],3,null),3,null),(t==null?void 0:t.wishList)&&m(y,{children:(r=(a=t==null?void 0:t.wishList)==null?void 0:a.data)==null?void 0:r.map(l=>{var c;return i("div",null,{class:"flex flex-row gap-1 md:gap-5 justify-start items-center h-fit w-fit lg:w-[50%] bg-white border-2   border-solid border-[#E0E0E0] rounded-lg"},[i("a",{href:`/products/${encodeURIComponent(((c=l.product_name)==null?void 0:c.replace(/[^a-zA-Z ]/g,"").replace(/ /g,"-").toLowerCase())??"")}`},{class:"flex flex-row gap-1 md:gap-5 justify-start items-center h-fit w-fit lg:w-[50%]"},[i("img",{alt:l==null?void 0:l.product_name,src:l==null?void 0:l.imgs[0]},{class:"w-12 h-12 md:w-32 md:h-32 object-contain lg:p-5"},null,3,null),i("div",null,{class:"flex flex-col"},[i("h2",null,{class:"text-black text-xs md:text-sm w-52 overflow-ellipsis overflow-hidden"},l==null?void 0:l.product_name,1,null),i("p",null,{class:"text-black text-xs"},(l==null?void 0:l.variation_name)??"",1,null)],1,null)],1,null),i("button",{onClick$:u(()=>Promise.resolve().then(()=>f),"s_P10BTQE8iWY",[n,l])},{class:"btn text-[#CC0000] m-2 ml-auto"},m(x,{classes:"md:w-5 md:h-5 w-4 h-4",[o]:{classes:o}},3,"TT_0"),0,null)],1,P())})},1,"TT_1")]},1,"TT_2")},z=()=>{const[s,t]=_();s(t)},U=()=>{var n,a;const[s,t]=_();(n=s==null?void 0:s.cart)!=null&&n.products&&Object.keys((a=s==null?void 0:s.cart)==null?void 0:a.products).map(r=>{var l,c;t[r]=(c=(l=s==null?void 0:s.cart)==null?void 0:l.products[r])==null?void 0:c.quantity})},W=async s=>{var r;const[t]=_(),a=await(await D("/api/wishlist/",JSON.stringify(s))).json();t.wishList.data=(r=a==null?void 0:a.result)==null?void 0:r.products},$=()=>{var n,a;const[s,t]=_();(n=s==null?void 0:s.cart)!=null&&n.products&&Object.keys((a=s==null?void 0:s.cart)==null?void 0:a.products).map(r=>{var l,c;t[r]=(c=(l=s==null?void 0:s.cart)==null?void 0:l.products[r])==null?void 0:c.quantity})},f=Object.freeze(Object.defineProperty({__proto__:null,_hW:S,s_2jlGCqiDDr4:W,s_HNO8DiUOiYM:U,s_IRS0kAnqQjk:M,s_IdUB142ZtlE:p,s_P10BTQE8iWY:z,s_Re0fSmtHnwE:A,s_gfqtG9zKc0k:$,s_sA08zi1MNyw:N,s_v8AbD1aNHkE:R},Symbol.toStringTag,{value:"Module"}));export{S as _hW,W as s_2jlGCqiDDr4,U as s_HNO8DiUOiYM,M as s_IRS0kAnqQjk,p as s_IdUB142ZtlE,z as s_P10BTQE8iWY,A as s_Re0fSmtHnwE,$ as s_gfqtG9zKc0k,N as s_sA08zi1MNyw,R as s_v8AbD1aNHkE};
