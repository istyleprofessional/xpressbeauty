import{b as i,d as f,P as l,q as r,E as g,x as k,M as b,L as F,K as S,w as I}from"./q-cea67d7a.js";import{getBrandsServer as $,updateBrandServer as A,useBrands as O,updateBrandVisibility as E}from"./q-cf199dd5.js";import{f as j,g as D,H as J,h as Y}from"./q-3239778f.js";import{a as P}from"./q-97996d90.js";import{P as V}from"./q-60d05858.js";import{useBrands as G}from"./q-54ad2447.js";const H=async n=>{const[s,a]=i(),e=n.target.value,u=await $(e),d=JSON.parse(u);s.value=d.result,a.value=d.total;const o=new URL(window.location.href);o.searchParams.set("page","1"),o.searchParams.set("search",e),history.pushState({},"",o.toString())},L=async()=>{var e;const[n]=i();(e=document==null?void 0:document.getElementById("my_modal_2"))==null||e.close();const s=await A(n.value);JSON.parse(s).status},T=()=>{const[n]=i(),s=new URL(window.location.href);s.searchParams.set("page",(parseInt(n)-1).toString()),location.href=s.toString()},U=()=>{const[n]=i(),s=new URL(window.location.href);s.searchParams.set("page",(parseInt(n)+1).toString()),location.href=s.toString()},q=(n,s)=>{const[a]=i();return a.value=s.value},z=()=>{const[n,s]=i();return s(n)},K=(n,s)=>{var e;const[a]=i();(e=document==null?void 0:document.getElementById(s?`my_modal_${s}`:"my_modal_1"))==null||e.showModal(),n&&(a.value=n)},M=()=>{const[n]=i();return n(void 0,2)},W=()=>{var _,y;const n=JSON.parse(O().value??"{}"),s=(n==null?void 0:n.result)??[],a=f(s),e=f((n==null?void 0:n.total)??0),u=P(),d=u.url.searchParams.get("search")??"",o=f({}),h=u.url.searchParams.get("page")??"1",p=Math.ceil(e.value/20),x=f(""),v=r(()=>Promise.resolve().then(()=>c),"s_iZGWL6IxqK4",[o]),N=r(()=>Promise.resolve().then(()=>c),"s_jAsTn4elcwM",[a,e]),B=r(()=>Promise.resolve().then(()=>c),"s_284j0gKhsO4",[a,o]),C=r(()=>Promise.resolve().then(()=>c),"s_UooSRzntETk",[x]);return l("div",null,{class:"flex flex-col w-full h-full bg-[#F9FAFB]"},[l("div",null,{class:"flex flex-row gap-5 items-center"},[l("h1",null,{class:"text-2xl font-bold p-2"},"Brands",3,null),l("input",{value:d},{class:"input input-bordered w-[20rem] m-2",onInput$:N,placeholder:"Search For Products",type:"text"},null,3,null),l("div",null,{class:"flex-grow"},l("button",null,{class:"btn btn-primary",onClick$:r(()=>Promise.resolve().then(()=>c),"s_8621WlVlYNw",[v])},"Add New Brand",3,null),3,null)],1,null),l("div",null,{class:"overflow-x-auto h-[80vh] bg-[#FFF]"},l("table",null,{class:"table table-pin-rows h-full"},[l("thead",null,null,[l("tr",null,null,[" ",l("th",null,null,l("label",null,null,l("input",null,{class:"checkbox",type:"checkbox"},null,3,null),3,null),3,null),l("th",null,{align:"right",colSpan:7},l("button",null,{class:"flex flex-row gap-2 items-center btn btn-ghost"},g(j,null,3,"dG_0"),1,null),1,null)],1,null),l("tr",null,{class:"bg-[#F1F5F9]"},[l("th",null,null,null,3,null),l("th",null,null,"Brand Name",3,null),l("th",null,null,"Visibility",3,null),l("th",null,null,null,3,null)],3,null)],1,null),l("tbody",null,null,[(_=a.value)==null?void 0:_.map((t,m)=>{var w;return k(),l("tr",null,null,[l("th",null,null,l("label",null,null,l("input",null,{class:"checkbox",type:"checkbox"},null,3,null),3,null),3,null),l("th",null,null,t==null?void 0:t.name,1,null),l("th",null,null,l("p",{class:`badge ${t!=null&&t.isHidden?"bg-[#FEF2F2] text-[#DC2626]":"bg-[#D1FAE5] text-[#059669]"}`},null,t!=null&&t.isHidden?"In Active":"Active",1,null),1,null),l("th",null,null,[l("button",{onClick$:r(()=>Promise.resolve().then(()=>c),"s_3zNqBE2hJ6Y",[t,v])},{class:"btn btn-ghost btn-sm text-xs"},t!=null&&t.isHidden?g(J,null,3,"dG_2"):g(D,null,3,"dG_1"),0,null),l("a",{href:`/admin/brands/${(w=t==null?void 0:t._id)==null?void 0:w.toString()}`},{class:"btn btn-ghost btn-sm text-xs"},g(Y,null,3,"dG_3"),1,null)],1,null)],1,m)}),((y=a.value)==null?void 0:y.length)===0&&l("tr",null,null,l("td",null,{class:"text-center",colSpan:8},"No brands found",3,null),3,"dG_4")],1,null)],1,null),1,null),l("div",null,{class:"bg-[#fff]"},l("div",null,{class:"flex flex-row justify-between gap-2 p-2"},[l("button",{class:`btn btn-ghost btn-sm ${h==="1"?"text-[#D1D5DB]":"text-[#7C3AED]"} text-xs`,disabled:h==="1",onClick$:r(()=>Promise.resolve().then(()=>c),"s_boNDU6gxfXI",[h])},null,"Previous",2,null),l("p",null,{class:"text-xs"},[h," of ",p],1,null),l("button",{class:`btn btn-ghost btn-sm text-xs ${h===p.toString()?"text-[#D1D5DB]":"text-[#7C3AED]"}`,disabled:h===p.toString(),onClick$:r(()=>Promise.resolve().then(()=>c),"s_8NYzhSnYuXk",[h])},null,"Next",2,null),l("dialog",null,{class:"modal",id:"my_modal_1"},l("div",null,{class:"modal-box"},[l("h3",null,{class:"font-bold text-lg"},"Change Product Visibility!",3,null),l("p",null,{class:"py-4"},["Are you sure you want change ",b(t=>{var m;return(m=t==null?void 0:t.value)==null?void 0:m.name},[o])," to"," ",b(t=>{var m;return(m=t==null?void 0:t.value)!=null&&m.isHidden?"Active":"In Active"},[o]),"?"],3,null),l("div",null,{class:"modal-action"},l("form",null,{class:"flex gap-2",method:"dialog"},[l("button",null,{class:"btn"},"Close",3,null),l("button",null,{class:"btn btn-primary",onClick$:B},"Confirm",3,null)],3,null),3,null)],3,null),3,null),l("dialog",null,{class:"modal",id:"my_modal_2"},l("div",null,{class:"modal-box"},[l("h3",null,{class:"font-bold text-lg"},"Change Product Visibility!",3,null),l("p",null,{class:"py-4"},"Brand Name",3,null),l("input",null,{class:"input input-bordered w-full",onChange$:r(()=>Promise.resolve().then(()=>c),"s_B7mBKf2FiJY",[x]),type:"text"},null,3,null),l("div",null,{class:"modal-action"},l("form",null,{class:"flex gap-2",method:"dialog"},[l("button",null,{class:"btn"},"Close",3,null),l("button",null,{class:"btn btn-primary",onClick$:C},"Confirm",3,null)],3,null),3,null)],3,null),3,null)],1,null),1,null)],1,"dG_5")},R=async()=>{var d;const[n,s]=i();(d=document==null?void 0:document.getElementById("my_modal_1"))==null||d.close();const a=s.value,e=await E(a),u=JSON.parse(e);u.status==="success"&&(n.value=n.value.map(o=>(o._id===a._id&&(o.isHidden=u.result.isHidden),o)))},X=()=>{const n=G(),a=P().url.searchParams.get("page")||"1";return l("div",null,{class:"flex flex-col gap-3 p-3 justify-center items-center"},[l("div",null,{class:"p-2"},l("h1",null,{class:"text-3xl font-bold text-center"},"Brands",3,null),3,null),l("div",null,{class:"flex flex-wrap gap-3 justify-center"},Array.from(Array(26).keys()).map(e=>l("a",{href:`/brands?alphabet=${String.fromCharCode(e+65)}`},{class:"text-lg font-bold"},String.fromCharCode(e+65),1,e)),1,null),JSON.parse(n.value).brands.length===0&&l("div",null,{class:"flex flex-col items-center justify-center gap-3 p-3 bg-white rounded-lg shadow-lg"},l("h2",null,{class:"text-lg font-bold"},"No Brands Found",3,null),3,"77_0"),l("div",null,{class:"flex flex-wrap gap-3 justify-center"},JSON.parse(n.value).brands.map(async(e,u)=>l("a",{href:`/products/filterBrands/${e.name}`},{class:"flex flex-col items-center justify-center gap-3 p-3 bg-white rounded-lg shadow-lg hover:shadow-xl transition duration-300 ease-in-out cursor-pointer w-44 h-44"},l("h2",null,{class:"text-sm font-bold"},F(e,"name"),1,null),1,u)),1,null),g(V,{page:a,perPage:20,get totalProductsNo(){return JSON.parse(n.value).total},[S]:{perPage:S,totalProductsNo:b(e=>JSON.parse(e.value).total,[n])}},3,"77_1")],1,"77_2")},c=Object.freeze(Object.defineProperty({__proto__:null,_hW:I,s_284j0gKhsO4:R,s_3zNqBE2hJ6Y:z,s_8621WlVlYNw:M,s_8NYzhSnYuXk:U,s_B7mBKf2FiJY:q,s_TZrQkWQOaPc:X,s_UooSRzntETk:L,s_boNDU6gxfXI:T,s_dSTpyk5Y3OY:W,s_iZGWL6IxqK4:K,s_jAsTn4elcwM:H},Symbol.toStringTag,{value:"Module"}));export{I as _hW,R as s_284j0gKhsO4,z as s_3zNqBE2hJ6Y,M as s_8621WlVlYNw,U as s_8NYzhSnYuXk,q as s_B7mBKf2FiJY,X as s_TZrQkWQOaPc,L as s_UooSRzntETk,T as s_boNDU6gxfXI,W as s_dSTpyk5Y3OY,K as s_iZGWL6IxqK4,H as s_jAsTn4elcwM};
