import{b as N,x as L,a as A,d as p,e as V,E as m,P as n,K as s,M as r,q as w,L as T,_ as k,w as E}from"./q-cea67d7a.js";import{K as J}from"./q-97996d90.js";import{I as f}from"./q-b432bb9e.js";import{T as R}from"./q-a7e999e2.js";import{U as S}from"./q-d713e633.js";import{useUpdateProfile as U,validatePhoneProfile as M}from"./q-b8cbee36.js";const F=({track:t,cleanup:a})=>{const[o]=N();t(()=>o.value);const u=setTimeout(()=>{o.value=""},3e3);a(()=>clearTimeout(u))},G=({track:t})=>{var u,c;const[a,o]=N();if(t(()=>{var d;return(d=a.value)==null?void 0:d.user}),(u=a.value)!=null&&u.user){const d=JSON.parse((c=a.value)==null?void 0:c.user);o.isEmailVerified=d.result.isEmailVerified,o.isPhoneVerified=d.result.isPhoneVerified}},Y=()=>{var v;L();const t=A(S),a=U(),o=p(),u=p([]),c=p(""),d=p(""),b=p(""),h=p(""),j=p(""),y=p(!0),_=p(""),P=p(""),O=p(""),C=w(()=>Promise.resolve().then(()=>x),"s_xcsO00bpbaU",[_]);V(w(()=>Promise.resolve().then(()=>x),"s_dRYPHGWqGig",[a,t]));const I=w(()=>Promise.resolve().then(()=>x),"s_xXhFMJhrTGk",[u]),W=w(()=>Promise.resolve().then(()=>x),"s_0xNgJ8mX1vE",[y,O]);return V(w(()=>Promise.resolve().then(()=>x),"s_0WRUJkTjnQ8",[_])),V(w(()=>Promise.resolve().then(()=>x),"s_0OcQIFlTf0o",[a,_,P]),{strategy:"document-idle"}),m(k,{children:n("div",null,{class:"gird"},[n("script",null,{src:"https://www.google.com/recaptcha/api.js?render=6Lc3M80jAAAAAJcoRLiwoul9szk5DYiYx9VIR2HE"},null,3,null),m(J,{action:a,children:[n("div",null,{class:"px-9 gap-4"},[n("div",null,null,[n("span",null,{class:"font-bold"},null,3,null),"Personal Information"," ",n("img",null,{class:"inline",src:"/pencil-alt.png"},null,3,null)],3,null),n("div",null,{class:"mt-6 border-b-2"},[n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,["First Name ",n("span",null,{class:" text-error"},"*",3,null)],3,null),3,null),n("div",null,null,m(f,{placeholder:"Marry",type:"text",get value(){return(t==null?void 0:t.firstName)??""},identifier:"firstName",get validation(){var l,e;return((e=(l=a==null?void 0:a.value)==null?void 0:l.validationObject)==null?void 0:e.firstName)??!0},[s]:{identifier:s,placeholder:s,type:s,validation:r(l=>{var e,i;return((i=(e=l==null?void 0:l.value)==null?void 0:e.validationObject)==null?void 0:i.firstName)??!0},[a]),value:r(l=>(l==null?void 0:l.firstName)??"",[t])}},3,"WN_0"),1,null)],1,null),n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,["Last Name ",n("span",null,{class:" text-error"},"*",3,null)],3,null),3,null),n("div",null,null,m(f,{placeholder:"George",type:"text",get value(){return(t==null?void 0:t.lastName)??""},identifier:"lastName",get validation(){var l,e;return((e=(l=a==null?void 0:a.value)==null?void 0:l.validationObject)==null?void 0:e.lastName)??!0},[s]:{identifier:s,placeholder:s,type:s,validation:r(l=>{var e,i;return((i=(e=l==null?void 0:l.value)==null?void 0:e.validationObject)==null?void 0:i.lastName)??!0},[a]),value:r(l=>(l==null?void 0:l.lastName)??"",[t])}},3,"WN_1"),1,null)],1,null),n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,["Email Address ",n("span",null,{class:" text-error"},"*",3,null)],3,null),3,null),n("div",null,{class:"inline"},[t!=null&&t.isEmailVerified?n("h1",null,{style:"color:green"}," Email Verified",3,"WN_2"):n("button",null,{class:"btn normal-case btn-sm btn-warning",onClick$:w(()=>import("./q-a3d3ff77.js"),"s_caJnJth0Zgk")},"Verify Email",3,null),m(f,{type:"email",get value(){return(t==null?void 0:t.email)??""},identifier:"email",placeholder:"example@gmail.com",get validation(){var l,e;return((e=(l=a==null?void 0:a.value)==null?void 0:l.validationObject)==null?void 0:e.email)??!0},[s]:{identifier:s,placeholder:s,type:s,validation:r(l=>{var e,i;return((i=(e=l==null?void 0:l.value)==null?void 0:e.validationObject)==null?void 0:i.email)??!0},[a]),value:r(l=>(l==null?void 0:l.email)??"",[t])}},3,"WN_3")],1,null)],1,null),n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,["Phone Number ",n("span",null,{class:" text-error"},"*",3,null)],3,null),3,null),n("div",null,{class:"flex flex-col gap-1"},[O.value!==""&&n("p",null,{class:"text-error text-sm font-light"},r(l=>l.value,[O]),3,"WN_4"),m(f,{type:"text",get value(){var l;return((l=t==null?void 0:t.phoneNumber)==null?void 0:l.replace("+1",""))??""},identifier:"phoneNumber",placeholder:"2222222222",get validation(){var l,e;return((e=(l=a==null?void 0:a.value)==null?void 0:l.validationObject)==null?void 0:e.phoneNumber)??!0},handleOnChange:W,[s]:{handleOnChange:s,identifier:s,placeholder:s,type:s,validation:r(l=>{var e,i;return((i=(e=l==null?void 0:l.value)==null?void 0:e.validationObject)==null?void 0:i.phoneNumber)??!0},[a]),value:r(l=>{var e;return((e=l==null?void 0:l.phoneNumber)==null?void 0:e.replace("+1",""))??""},[t])}},3,"WN_5"),n("input",null,{id:"isPhoneValid",name:"isPhoneValid",type:"hidden",value:r(l=>l.value.toString(),[y])},null,3,null)],1,null)],1,null),n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,"Company Name ( Optional )",3,null),3,null),n("div",null,null,m(f,{type:"text",get value(){var l,e;return((e=(l=t==null?void 0:t.generalInfo)==null?void 0:l.company)==null?void 0:e.name)??""},identifier:"generalInfo.comapny.name",placeholder:"Xpress",validation:!0,[s]:{identifier:s,placeholder:s,type:s,validation:s,value:r(l=>{var e,i;return((i=(e=l==null?void 0:l.generalInfo)==null?void 0:e.company)==null?void 0:i.name)??""},[t])}},3,"WN_6"),1,null)],1,null)],1,null)],1,null),n("div",null,{class:"px-9 gap-4 mt-12"},[n("div",null,null,[n("span",null,{class:"font-bold"},null,3,null),"Shipping Information"," ",n("img",null,{class:"inline",src:"/pencil-alt.png"},null,3,null)],3,null),n("div",null,{class:"mt-6"},[n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,["Street Address ",n("span",null,{class:" text-error"},"*",3,null)],3,null),3,null),n("div",null,{class:"w-full relative"},[m(f,{identifier:"generalInfo.address.addressLine1",placeholder:"1234",type:"text",get value(){var l,e;return d.value||((e=(l=t==null?void 0:t.generalInfo)==null?void 0:l.address)==null?void 0:e.addressLine1)},get validation(){var l,e;return((e=(l=a==null?void 0:a.value)==null?void 0:l.validationObject)==null?void 0:e.addressLine1)??!0},handleOnChange:I,[s]:{handleOnChange:s,identifier:s,placeholder:s,type:s,validation:r(l=>{var e,i;return((i=(e=l==null?void 0:l.value)==null?void 0:e.validationObject)==null?void 0:i.addressLine1)??!0},[a]),value:r((l,e)=>{var i,g;return l.value||((g=(i=e==null?void 0:e.generalInfo)==null?void 0:i.address)==null?void 0:g.addressLine1)},[d,t])}},3,"WN_7"),((v=u.value)==null?void 0:v.length)>0&&n("ul",null,{class:"menu bg-base-200 w-fit absolute rounded-box p-0 [&_li>*]:rounded-none"},u.value.map((l,e)=>n("li",null,null,n("button",{onClick$:w(()=>Promise.resolve().then(()=>x),"s_04V0V8kL50E",[d,b,c,l,u,j,h])},{class:"btn btn-ghost normal-case",type:"button"},T(l,"description"),0,null),1,e)),1,"WN_8")],1,null)],1,null),n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,["Country / Region ",n("span",null,{class:" text-error"},"*",3,null)],3,null),3,null),n("div",null,null,m(f,{identifier:"generalInfo.address.country",placeholder:"Canada",type:"text",get value(){var l,e;return c.value||((e=(l=t==null?void 0:t.generalInfo)==null?void 0:l.address)==null?void 0:e.country)},get validation(){var l,e;return((e=(l=a==null?void 0:a.value)==null?void 0:l.validationObject)==null?void 0:e.country)??!0},disabled:!0,[s]:{disabled:s,identifier:s,placeholder:s,type:s,validation:r(l=>{var e,i;return((i=(e=l==null?void 0:l.value)==null?void 0:e.validationObject)==null?void 0:i.country)??!0},[a]),value:r((l,e)=>{var i,g;return l.value||((g=(i=e==null?void 0:e.generalInfo)==null?void 0:i.address)==null?void 0:g.country)},[c,t])}},3,"WN_9"),1,null)],1,null),n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,["Town / City ",n("span",null,{class:" text-error"},"*",3,null)],3,null),3,null),n("div",null,null,m(f,{identifier:"generalInfo.address.city",placeholder:"Toronto",type:"text",get value(){var l,e;return b.value||((e=(l=t==null?void 0:t.generalInfo)==null?void 0:l.address)==null?void 0:e.city)},get validation(){var l,e;return((e=(l=a==null?void 0:a.value)==null?void 0:l.validationObject)==null?void 0:e.city)??!0},disabled:!0,[s]:{disabled:s,identifier:s,placeholder:s,type:s,validation:r(l=>{var e,i;return((i=(e=l==null?void 0:l.value)==null?void 0:e.validationObject)==null?void 0:i.city)??!0},[a]),value:r((l,e)=>{var i,g;return l.value||((g=(i=e==null?void 0:e.generalInfo)==null?void 0:i.address)==null?void 0:g.city)},[b,t])}},3,"WN_10"),1,null)],1,null),n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,["Province ",n("span",null,{class:" text-error"},"*",3,null)],3,null),3,null),n("div",null,null,m(f,{identifier:"generalInfo.address.state",placeholder:"Ontario",type:"text",get value(){var l,e;return h.value||((e=(l=t==null?void 0:t.generalInfo)==null?void 0:l.address)==null?void 0:e.state)},get validation(){var l,e;return((e=(l=a==null?void 0:a.value)==null?void 0:l.validationObject)==null?void 0:e.state)??!0},disabled:!0,[s]:{disabled:s,identifier:s,placeholder:s,type:s,validation:r(l=>{var e,i;return((i=(e=l==null?void 0:l.value)==null?void 0:e.validationObject)==null?void 0:i.state)??!0},[a]),value:r((l,e)=>{var i,g;return l.value||((g=(i=e==null?void 0:e.generalInfo)==null?void 0:i.address)==null?void 0:g.state)},[h,t])}},3,"WN_11"),1,null)],1,null),n("div",null,{class:"grid grid-flow-row-dense gap-3 p-6 md:grid-cols-4"},[n("div",null,{class:"md:pt-6"},n("span",null,null,["Postal Code ",n("span",null,{class:" text-error"},"*",3,null)],3,null),3,null),n("div",null,null,[" ",m(f,{identifier:"generalInfo.address.postalCode",placeholder:"12344",type:"text",get value(){var l,e;return j.value||((e=(l=t==null?void 0:t.generalInfo)==null?void 0:l.address)==null?void 0:e.postalCode)},get validation(){var l,e;return((e=(l=a==null?void 0:a.value)==null?void 0:l.validationObject)==null?void 0:e.postalCode)??!0},disabled:!0,[s]:{disabled:s,identifier:s,placeholder:s,type:s,validation:r(l=>{var e,i;return((i=(e=l==null?void 0:l.value)==null?void 0:e.validationObject)==null?void 0:i.postalCode)??!0},[a]),value:r((l,e)=>{var i,g;return l.value||((g=(i=e==null?void 0:e.generalInfo)==null?void 0:i.address)==null?void 0:g.postalCode)},[j,t])}},3,"WN_12")],1,null)],1,null),n("input",null,{name:"id",type:"hidden",value:r(l=>(l==null?void 0:l._id)??"",[t])},null,3,null),n("div",null,{class:"grid md:grid-cols-4 gap-3 p-6"},[n("div",null,null,n("button",null,{class:"btn btn-primary",type:"submit"},[a.isRunning&&n("span",null,{class:"loading loading-spinner"},null,3,"WN_13"),"Save"],1,null),1,null),_.value&&n("div",{ref:o},{class:"w-full"},m(R,{get status(){var l;return((l=a==null?void 0:a.value)==null?void 0:l.status)==="success"?"s":"e"},handleClose:C,get message(){return _.value??""},index:1,[s]:{handleClose:s,index:s,message:r(l=>l.value??"",[_]),status:r(l=>{var e;return((e=l==null?void 0:l.value)==null?void 0:e.status)==="success"?"s":"e"},[a])}},3,"WN_14"),1,"WN_15")],1,null)],1,null)],1,null),n("input",null,{id:"recaptcha",name:"recaptcha",type:"hidden",value:r(l=>l.value,[P])},null,3,null)],reloadDocument:!1,[s]:{action:s,reloadDocument:s}},1,"WN_16")],1,null)},1,"WN_17")},q=async t=>{const[a]=N(),u="/api/places/?input="+t.target.value,d=await(await fetch(u)).json();a.value=d.predictions},D=()=>{const[t]=N();t.value=""},X=async()=>{var _,P,O,C,I,W;const[t,a,o,u,c,d,b]=N(),y=(await(await fetch("/api/places/details?place_id="+u.place_id)).json()).result;o.value=(_=y.address_components.find(v=>v.types.includes("country")))==null?void 0:_.long_name,b.value=(P=y.address_components.find(v=>v.types.includes("administrative_area_level_1")))==null?void 0:P.long_name,a.value=(O=y.address_components.find(v=>v.types.includes("locality")))==null?void 0:O.long_name,d.value=(C=y.address_components.find(v=>v.types.includes("postal_code")))==null?void 0:C.long_name,t.value=((I=y.address_components.find(v=>v.types.includes("street_number")))==null?void 0:I.long_name)+" "+((W=y.address_components.find(v=>v.types.includes("route")))==null?void 0:W.long_name),c.value=[]},H=({track:t})=>{var c,d,b;const[a,o,u]=N();t(()=>{var h;return(h=a==null?void 0:a.value)==null?void 0:h.status}),((c=a==null?void 0:a.value)==null?void 0:c.status)==="success"&&(o.value="User updated successfully"),((d=a==null?void 0:a.value)==null?void 0:d.status)==="failed"&&(o.value="Please enter valid details"),(b=window.grecaptcha)==null||b.ready(async()=>{const h=await window.grecaptcha.execute("6Lc3M80jAAAAAJcoRLiwoul9szk5DYiYx9VIR2HE",{action:"submit"});u.value=h})},Q=async t=>{const[a,o]=N();let u=t.target.value;if(u.length!==10){o.value="";return}a.value=!1,u.startsWith("1")&&(u=t.target.value.slice(1)),u.startsWith("+1")&&(u=t.target.value.slice(2));const c=await M(t.target.value),d=JSON.parse((c==null?void 0:c.res)??"");if(!(d.countryCode=="US"||d.countryCode=="CA")){a.value=!1,o.value="Please enter a valid USA or Canada phone number";return}o.value="",a.value=!0},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:E,s_04V0V8kL50E:X,s_0OcQIFlTf0o:H,s_0WRUJkTjnQ8:F,s_0xNgJ8mX1vE:Q,s_Ye3VmDwgdT4:Y,s_dRYPHGWqGig:G,s_xXhFMJhrTGk:q,s_xcsO00bpbaU:D},Symbol.toStringTag,{value:"Module"}));export{E as _hW,X as s_04V0V8kL50E,H as s_0OcQIFlTf0o,F as s_0WRUJkTjnQ8,Q as s_0xNgJ8mX1vE,Y as s_Ye3VmDwgdT4,G as s_dRYPHGWqGig,q as s_xXhFMJhrTGk,D as s_xcsO00bpbaU};
