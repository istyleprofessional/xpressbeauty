import{b as S,x as U,a as P,d as y,e as j,E as w,P as t,q as x,M as m,_ as L,K as p,w as I}from"./q-cea67d7a.js";import{C as A}from"./q-85815eba.js";import{N as T}from"./q-3239778f.js";import{U as D}from"./q-d713e633.js";import{c as $}from"./q-ebceb2a7.js";import"./q-97996d90.js";const O=async({track:s})=>{var d,h;const[l,n,c,o,u,i,a]=S();if(s(()=>{var g;return(g=n==null?void 0:n.cart)==null?void 0:g.totalPrice}),s(()=>o==null?void 0:o.currencyObject.cur),u.value=(d=n==null?void 0:n.cart)==null?void 0:d.totalPrice,localStorage.getItem("copon")==="true"){const g=localStorage.getItem("value");g&&parseInt(g)===30?c.value=-30:u.value=u.value-u.value*.1,l.value="Copon Applied"}a.value=u.value,((h=o==null?void 0:o.currencyObject)==null?void 0:h.cur)==="1"?i.value="USD":i.value="CAD"},W=({track:s})=>{var c;const[l,n]=S();s(()=>{var o;return(o=l==null?void 0:l.cart)==null?void 0:o.shipping}),n.value=(c=l==null?void 0:l.cart)==null?void 0:c.shipping,console.log("shipping",n.value)},E=s=>{const[l]=S();l.value=s.target.value},M=s=>{var b,k,C;U();const l=P(A),n=P(D),c=y(0),o=y(0),u=y(15),i=y(""),a=y("CAD"),v=y(""),d=y(!1),h=y(0);j(x(()=>Promise.resolve().then(()=>_),"s_W4r5tCaoOww",[v,l,h,s,c,a,o])),j(x(()=>Promise.resolve().then(()=>_),"s_20WWu7CXLw8",[l,u]));const g=x(()=>Promise.resolve().then(()=>_),"s_g0l0jhFiT0w",[v,l,i,d,s,u,c,a,o,n]);return w(L,{children:[t("h2",null,{class:"text-white text-xl font-semibold"},"Order Details",3,null),(n==null?void 0:n.isDummy)===!1&&t("div",null,{class:"flex flex-col gap-3 justify-center items-center py-8"},[t("input",null,{class:"input",onChange$:x(()=>Promise.resolve().then(()=>_),"s_hZBEPoaYTU4",[i]),placeholder:"Enter Promo Code",type:"text"},null,3,null),t("button",null,{class:"btn btn-sm bg-neutral-800 text-white font-['Inter'] w-fit rounded-sm",disabled:m(e=>e.value,[d]),onClick$:g},"Apply",3,null),d.value&&t("span",null,{class:"loading loading-dots loading-md"},null,3,"do_0"),v.value&&t("p",null,{class:m(e=>{var r;return`text-xs ${(r=e==null?void 0:e.value)!=null&&r.includes("Applied")?"text-success":"text-error"}`},[v])},m(e=>e.value,[v]),3,"do_1")],1,"do_2"),t("div",null,{class:"flex flex-col gap-5 justify-center"},[t("div",null,{class:"grid grid-cols-2 w-full"},[t("p",null,{class:"text-white text-sm font-light"},"Subtotal",3,null),t("p",null,{class:"justify-self-end text-white text-base font-light"},c.value?c.value.toLocaleString("en-US",{style:"currency",currency:a.value}):0 .toLocaleString("en-US",{style:"currency",currency:a.value}),1,null)],1,null),h.value!==0&&t("div",null,{class:"grid grid-cols-2 w-full"},[t("p",null,{class:"text-white text-sm font-light"},"Discount",3,null),t("p",null,{class:"justify-self-end text-white text-base font-light"},h.value?h.value.toLocaleString("en-US",{style:"currency",currency:a.value}):0 .toLocaleString("en-US",{style:"currency",currency:a.value}),1,null)],1,"do_3"),t("div",null,{class:"grid grid-cols-2 w-full"},[t("p",null,{class:"text-white text-sm font-light"},"TAX",3,null),t("p",null,{class:"justify-self-end text-white text-xs font-light w-full"},"Continue To Calculate Tax...",3,null)],3,null),t("div",null,{class:"grid grid-cols-2 w-full"},[t("p",null,{class:"text-white text-sm font-light"},"Shipping",3,null),t("p",null,{class:"justify-self-end text-white text-base font-light"},(b=l==null?void 0:l.cart)!=null&&b.shipping?(C=(k=l==null?void 0:l.cart)==null?void 0:k.shipping)==null?void 0:C.toLocaleString("en-US",{style:"currency",currency:a.value}):0 .toLocaleString("en-US",{style:"currency",currency:a.value}),1,null)],1,null)],1,null),n!=null&&n.isDummy?w(L,{children:[t("a",null,{class:m(e=>{var r,f;return`btn bg-emerald-600 text-white hover:bg-emerald-900  normal-case ${(r=e==null?void 0:e.cart)!=null&&r.products&&((f=e==null?void 0:e.cart)==null?void 0:f.products.length)===0?"disabled":""}`},[l]),href:"/login"},"Login or Register",3,null),t("div",null,{class:"divider divider-neutral"},null,3,null),t("div",null,{class:" bg-red-900 text-white px-4 py-3 rounded relative",role:"alert"},t("p",null,{class:"text-sm"},"Please note: If you proceed with guest checkout, you will receive order notifications by email only. Tracking information will not be available for guest orders. If you would like to track your order and enjoy other benefits, we recommend logging in or creating an account.",3,null),3,null),t("button",{onClick$:s.checkIfProductQuantityExist},{class:m(e=>{var r,f;return`btn text-black  normal-case ${(r=e==null?void 0:e.cart)!=null&&r.products&&((f=e==null?void 0:e.cart)==null?void 0:f.products.length)===0?"disabled":""}`},[l])},["Guest Checkout ",w(T,{color:"black",width:"10%",[p]:{color:p,width:p}},3,"do_6")],0,null)]},1,"do_7"):t("button",{onClick$:s.checkIfProductQuantityExist},{class:m(e=>{var r,f;return`btn text-black  normal-case ${(r=e==null?void 0:e.cart)!=null&&r.products&&((f=e==null?void 0:e.cart)==null?void 0:f.products.length)===0?"disabled":""}`},[l])},["Checkout ",w(T,{color:"black",width:"10%",[p]:{color:p,width:p}},3,"do_4")],0,"do_5")]},1,"do_8")},N=async()=>{var g,b;const[s,l,n,c,o,u,i,a,v,d]=S();c.value=!0,await $(n.value,d==null?void 0:d._id)&&n.value!=="xpressbeauty30"?(i.value=(g=l==null?void 0:l.cart)==null?void 0:g.totalPrice,i.value=i.value-i.value*.1,u.value=l.cart.shipping,v.value=i.value+u.value,((b=o==null?void 0:o.currencyObject)==null?void 0:b.cur)==="1"?a.value="USD":a.value="CAD",s.value="Copon Applied",localStorage.setItem("copon","true")):(s.value="Copon is not valid or already used",localStorage.setItem("copon","false")),c.value=!1},_=Object.freeze(Object.defineProperty({__proto__:null,_hW:I,s_20WWu7CXLw8:W,s_W4r5tCaoOww:O,s_Z3uyGvYf90k:M,s_g0l0jhFiT0w:N,s_hZBEPoaYTU4:E},Symbol.toStringTag,{value:"Module"}));export{I as _hW,W as s_20WWu7CXLw8,O as s_W4r5tCaoOww,M as s_Z3uyGvYf90k,N as s_g0l0jhFiT0w,E as s_hZBEPoaYTU4};
