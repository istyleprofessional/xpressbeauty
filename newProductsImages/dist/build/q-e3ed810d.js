import{b as w,n as F,q as p,x as T,d as _,l as q,a as E,T as M,e as L,E as j,P as a,M as B,K as C,_ as I,w as N}from"./q-cea67d7a.js";import{C as Q}from"./q-56a62043.js";import{useDomContentLoaded as Y,useFilterData as W,get_random_products_Ser as z}from"./q-0729483f.js";import{a as Z,e as V}from"./q-97996d90.js";import{a as A}from"./q-46496603.js";const X=()=>{const[e]=w();e.Tools||e.Hair?(e.Tools=!1,e.Hair=!1):(e.Tools=!0,e.Hair=!0)},G=()=>{const[e]=w();e.Price=!e.Price},ee=(e,r)=>{const[s]=w();if(r.checked){s.value=!0;const l=new URL(window.location.href);l.searchParams.set("inStock","true"),location.href=l.pathname+l.search}else{s.value=!1;const l=new URL(window.location.href);l.searchParams.set("inStock","false"),location.href=l.pathname+l.search}},le=()=>{const[e,r,s]=w(),l=r.params.args.split("/"),t=()=>{const n=l.findIndex(o=>o==="search");return n!==-1?l[n+1]:""};s.value=t();const u=()=>{const n=l.findIndex(o=>o==="filter");return n!==-1?l[n+1]:""};e.value=u()},ae=()=>{const[e]=w();localStorage.setItem("prev",e.url.pathname+e.url.searchParams.toString())},se=F(p(()=>import("./q-f355a131.js"),"s_XMv9MTQeW1k")),te=F(p(()=>import("./q-692fdd4a.js"),"s_a0zdlVklcw4")),re=F(p(()=>import("./q-5f908677.js"),"s_4JojHrxYaiA")),ne=F(p(()=>import("./q-3b46723a.js"),"s_XshhUGUahCE")),oe=()=>{var H;T();const e=Y(),r=JSON.parse(W().value),s=_(0),l=_({}),t=_(JSON.parse(e.value).serverData),u=_(""),n=Z(),o=_(n.url.searchParams.get("page")??"1"),i=q({value:[]},{deep:!0}),h=q({value:[]},{deep:!0}),c=_([]),f=_(n.url.searchParams.get("search")??""),k=E(Q),m=_((H=r==null?void 0:r.brand)==null?void 0:H.result),d=_(),v=q({Hair:!1,Tools:!1,Brands:!1,Price:!1},{deep:!0}),y=V(),S=_(""),b=_(!1),x=_("");M(p(()=>Promise.resolve().then(()=>P),"s_bm0B0hHU3Bc",[S,n,x])),L(p(()=>Promise.resolve().then(()=>P),"s_9E97KjFDxas",[i,h,c,s,n,f,u]),{strategy:"intersection-observer"}),L(p(()=>Promise.resolve().then(()=>P),"s_5PDony1IcWM",[n]),{strategy:"document-idle"});const $=p(()=>Promise.resolve().then(()=>P),"s_Y2Cyqa6AbdU",[i,h,c,d,b,n,y,o,t,u]);M(p(()=>Promise.resolve().then(()=>P),"s_0mtY0lgsR80",[l,r]));const R=p(()=>Promise.resolve().then(()=>P),"s_xJuiEC0n0rE",[i,h,c,s,b,y,o,t,f,u]),O=p(()=>Promise.resolve().then(()=>P),"s_C1PwWlqdeZ0",[i,h,c,S,d,b,y,t,f,u]),D=p(()=>Promise.resolve().then(()=>P),"s_P17S0uhsH6o",[i,h,c,d,b,y,o,t,x,u]),J=p(()=>Promise.resolve().then(()=>P),"s_dKMZVKEZ7KY",[i,h,c,d,b,n,y,o,t,u]),K=p(()=>Promise.resolve().then(()=>P),"s_HSwk7lrD9ek",[i,h,c,d,b,n,y,o,t,x,u]);L(p(()=>Promise.resolve().then(()=>P),"s_et0sfNJ7JYw",[d,n]));const U=p(()=>Promise.resolve().then(()=>P),"s_o0UhHCKoe78",[m,r]);return j(I,{children:[a("h1",null,{class:"text-xl md:text-3xl p-5 font-bold"},"Product Filters",3,null),a("div",null,{class:"flex flex-col lg:flex-row gap-4 "},[a("div",null,{class:"lg:sticky lg:top-0"},a("div",null,{class:"drawer lg:drawer-open lg:sticky lg:top-0 flex flex-col gap-5"},[a("input",null,{class:"drawer-toggle",id:"my-drawer",type:"checkbox"},null,3,null),a("div",null,{class:"drawer-content p-2"},a("label",null,{class:"btn btn-info drawer-button lg:hidden p-2",for:"my-drawer"},["Filter By",a("svg",null,{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":1.5,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a("path",null,{d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75","stroke-linecap":"round","stroke-linejoin":"round"},null,3,null),3,null)],3,null),3,null),a("div",null,{class:"flex flex-row gap-4 items-center lg:hidden"},[a("p",null,{class:"text-black text-base font-bold p-2"},["Filters Applied :"," ",a("span",null,{class:"text-black text-base font-normal"},B(g=>g.value,[s]),3,null)],3,null),a("button",null,{class:"btn btn-ghost w-fit btn-sm",onClick$:R},[" ","Clear All"],3,null)],3,null),a("div",null,{class:" w-full drawer-side z-50 h-full overflow-y-auto"},[a("label",null,{class:"drawer-overlay",for:"my-drawer"},null,3,null),a("ul",null,{class:"h-full mt-12 lg:mt-0 bg-base-200 lg:bg-transparent flex flex-col lg:gap-10"},[a("li",null,{class:"lg:flex flex-row gap-4 items-center hidden "},[a("p",null,{class:"text-black lg:text-base md:text-xs font-bold p-2"},["Filters Applied :"," ",a("span",null,{class:"text-black text-xs font-normal"},B(g=>g.value,[s]),3,null)],3,null),a("button",null,{class:"btn btn-ghost w-fit btn-sm text-xs normal-case",onClick$:R},[" ","Clear All"],3,null)],3,null),a("li",null,{class:"flex flex-col gap-1 w-full"},a("div",null,{class:"relative m-2"},[a("svg",null,{"aria-hidden":"true",class:"w-4 h-4 text-gray-500 dark:text-gray-400    absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},a("path",null,{d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,3,null),3,null),a("input",null,{"aria-label":"Search Products",class:"input input-bordered w-full pl-10",id:"default-search",onInput$:O,placeholder:"Search Products",value:B(g=>g.value,[f])},null,3,null)],3,null),3,null),a("li",null,{class:"collapse collapse-arrow w-full"},[a("input",null,{checked:B(g=>g.Brands,[v]),class:" cursor-pointer",name:"my-accordion-1",onClick$:p(()=>Promise.resolve().then(()=>P),"s_plyHXz5FPbs",[v]),type:"radio"},null,3,null),a("div",null,{class:"collapse-title text-sm md:text-base font-medium h-full"},a("h3",null,{class:"text-base font-bold text-black"},"Brands",3,null),3,null),a("div",null,{class:"collapse-content"},a("div",null,{class:"flex flex-col gap-2"},[a("input",null,{"aria-label":"Search For Brands",class:"input input-sm border-2 border-gray-200 rounded-lg p-2 w-full",onInput$:p(()=>Promise.resolve().then(()=>P),"s_9sqDD1KQde4",[U]),placeholder:"Search For Brands",type:"text"},null,3,null),j(se,{filterBrands:m,filterBrandsArray:i,handleBrandCheckBoxChange:J,[C]:{filterBrands:C,filterBrandsArray:C,handleBrandCheckBoxChange:C}},3,"Mh_0")],1,null),1,null)],1,null),a("li",null,{class:"collapse collapse-arrow w-full"},[a("input",null,{checked:B(g=>g.Tools||g.Hair,[v]),class:" cursor-pointer",name:"my-accordion-2",onClick$:p(()=>Promise.resolve().then(()=>P),"s_v4oUbqG98gk",[v]),type:"radio"},null,3,null),a("div",null,{class:"collapse-title text-sm md:text-base font-medium h-fit"},a("h3",null,{class:"text-base font-bold text-black"},"Categories",3,null),3,null),a("div",null,{class:"collapse-content "},j(te,{categoriesSetObject:l,filterCategoriessArray:h,handleCategoryCheckBoxChange:$,[C]:{categoriesSetObject:C,filterCategoriessArray:C,handleCategoryCheckBoxChange:C}},3,"Mh_1"),1,null)],1,null),a("li",null,{class:"collapse collapse-arrow w-full overflow-y-auto"},[a("input",null,{checked:B(g=>g.Price,[v]),class:" cursor-pointer",name:"my-accordion-2",onClick$:p(()=>Promise.resolve().then(()=>P),"s_rpTrSWdj7Q0",[v]),type:"radio"},null,3,null),a("div",null,{class:"collapse-title text-sm md:text-base font-medium"},a("h3",null,{class:"text-base font-bold text-black"},"Prices",3,null),3,null),a("div",null,{class:"collapse-content flex flex-col"},j(re,{filterPrices:c,handlePricesCheckBoxChange:K,[C]:{filterPrices:C,handlePricesCheckBoxChange:C}},3,"Mh_2"),1,null)],1,null),a("li",null,{class:"collapse collapse-arrow w-80"},a("input",null,{checked:B(g=>g.Price,[v]),class:"cursor-pointer",name:"my-accordion-3",onClick$:p(()=>Promise.resolve().then(()=>P),"s_Lo1QIi1R03E",[v]),type:"radio"},null,3,null),3,null),a("li",null,{class:"flex flex-row gap-1 justify-center items-center lg:hidden"},[a("input",null,{checked:B(g=>g.value,[d]),class:"checkbox checkbox-success",id:"checkbox",name:"checkbox",onChange$:p(()=>Promise.resolve().then(()=>P),"s_no40B14YKRI",[d]),type:"checkbox"},null,3,null),a("label",null,{class:"font-bold",for:"checkbox"},"In Stock",3,null)],3,null)],1,null)],1,null)],1,null),1,null),a("div",null,{class:"md:flex md:flex-col gap-16 w-full"},[b.value&&a("div",null,{class:"flex flex-col items-center justify-center gap-3 p-3 bg-white rounded-lg shadow-lg"},[a("h2",null,{class:"text-lg font-bold"},"Loading...",3,null),a("progress",null,{class:"progress w-56"},null,3,null)],3,"Mh_3"),!b.value&&j(ne,{inStock:d,get currencyObject(){return k.cur},products:t,get currentPage(){return o.value},handleSorting:D,[C]:{currencyObject:B(g=>g.cur,[k]),currentPage:B(g=>g.value,[o]),handleSorting:C,inStock:C,products:C}},3,"Mh_4")],1,null)],1,null)]},1,"Mh_5")},ce=()=>{const[e]=w();e.Price?e.Price=!1:e.Price=!0},ue=()=>{const[e,r]=w(),s=r.url.searchParams.get("inStock")??"false";s==="true"&&(e.value=!0),s==="false"&&(e.value=!1)},ie=async e=>{const[r,s,l,t,u,n,o,i,h,c]=w();n.value=!0;const f=e.target.value;h.value=f;const k=new URL(window.location.href),m=k.searchParams.get("page")??"1",d=await A("/api/products/get",{filterBrands:r.value,filterCategories:s.value,filterPrices:l.value,filter:t.value,query:h.value,page:m,sort:c.value,inStock:u.value});k.searchParams.set("search",f),o(k.search,{forceReload:!1,replaceState:!1,scroll:!1});const v=await d.json();i.value=JSON.parse(v),n.value=!1},de=async(e,r)=>{const[s,l,t,u,n,o,i,h,c,f]=w();n.value=!0;const k=e.checked??!1,m=o.url;k?s.value.push(r):s.value=s.value.filter(x=>x!==r);const d=s.value.map(x=>x.replace(/ /g,"-"));let v=[];l.value.length>0&&(v=l.value.map(x=>x.replace(/ /g,"-"))),m.pathname=`/products/${d.length>0?`filterBrands/${d.join("+")}/`:""}${l.value.length?`filterCategories/${v.join("+")}/`:""}${t.value.length?`filterPrices/${t.value.join("+")}/`:""} `,m.searchParams.set("page","1"),h.value="1",i(m.pathname,{forceReload:!1,replaceState:!1,scroll:!1});const y=m.searchParams.get("page")??"1",b=await(await A("/api/products/get",{filterBrands:s.value,filterCategories:l.value,filterPrices:t.value,filter:"",query:"",page:y,sort:f.value,inStock:u.value})).json();c.value=JSON.parse(b),n.value=!1},he=async e=>{const[r,s,l,t,u,n,o,i,h,c]=w();u.value=!0;const f=new URL(window.location.href);c.value=e.target.value;let k=[],m=[];r.value.length&&(k=r.value.map(S=>S.replace(/ /g,"-"))),s.value.length>0&&(m=s.value.map(S=>S.replace(/ /g,"-"))),f.pathname=`/products/${k.length>0?`filterBrands/${k.join("+")}/`:""}${s.value.length?`filterCategories/${m.join("+")}/`:""}${l.value.length>0?`filterPrices/${l.value.join("+")}/`:""}${h.value!==""?`search/${h.value}/`:""}`,f.searchParams.set("sort",e.target.value),f.searchParams.set("page","1");const d=f.searchParams.get("page")??"1",y=await(await A("/api/products/get",{filterBrands:r.value,filterCategories:s.value,filterPrices:l.value,filter:"",query:"",page:d,sort:c.value,inStock:t.value})).json();i.value=JSON.parse(y),f.searchParams.set("page","1"),o.value="1",n(f.pathname+f.search,{forceReload:!1,replaceState:!1,scroll:!1}),u.value=!1},fe=({track:e})=>{const[r,s,l,t,u,n,o]=w();e(()=>r.value.length),e(()=>s.value.length),e(()=>l.value.length),e(()=>n.value),e(()=>o.value);const i=u.url,h=i.searchParams.get("search")??"",c=i.searchParams.get("filter")??"";t.value=r.value.length+s.value.length+l.value.length+(n.value?1:0)+(h?1:0)+(c?1:0)+(o.value?1:0)},pe=async()=>{const[e,r,s,l,t,u,n,o,i,h]=w();t.value=!0;const c=new URL(window.location.href);e.value=[],r.value=[],c.searchParams.delete("search"),c.searchParams.delete("page"),c.searchParams.delete("sort"),h.value="",s.value=[],n.value="1",c.pathname="/products/",u(c.pathname,{forceReload:!1,replaceState:!1,scroll:!1});const f=await z();o.value=JSON.parse(f),i.value="",l.value=0,t.value=!1},ve=()=>{const[e]=w();e.Brands?e.Brands=!1:e.Brands=!0},ge=(e,r)=>{var n,o;const[s,l]=w(),t=r.value.toLowerCase();if(!t){s.value=(n=l==null?void 0:l.brand)==null?void 0:n.result;return}const u=(o=s==null?void 0:s.value)==null?void 0:o.filter(i=>i.name.toLowerCase().includes(t));s.value=u},me=()=>{var s,l;const[e,r]=w();(l=(s=r==null?void 0:r.cat)==null?void 0:s.result)==null||l.forEach(t=>{e.value[t.main]||(e.value[t.main]=[]),e.value[t.main].push(t.name)})},Pe=async(e,r)=>{const[s,l,t,u,n,o,i,h,c,f]=w();n.value=!0,e.checked??!1?l.value.push(`${r}`):l.value=l.value.filter(x=>x!==`${r}`);const m=o.url;let d=[],v=[];s.value.length&&(d=s.value.map(x=>x.replace(/ /g,"-"))),l.value.length>0&&(v=l.value.map(x=>x.replace(/ /g,"-"))),m.pathname=`/products/${d.length>0?`filterBrands/${d.join("+")}/`:""}${l.value.length?`filterCategories/${v.join("+")}/`:""}${t.value.length>0?`filterPrices/${t.value.join("+")}/`:""}`;const y=m.searchParams.get("page")??"1",b=await(await A("/api/products/get",{filterBrands:s.value,filterCategories:l.value,filterPrices:t.value,filter:"",query:"",page:y,sort:f.value,inStock:u.value})).json();c.value=JSON.parse(b),m.searchParams.set("page","1"),h.value="1",i(m.pathname,{forceReload:!1,replaceState:!1,scroll:!1}),n.value=!1},we=async(e,r)=>{const[s,l,t,u,n,o,i,h,c,f,k]=w();n.value=!0;const m=e.target.checked,d=o.url;m?t.value.push(r):t.value=t.value.filter($=>$!==r);let v=[];s.value.length&&(v=s.value.map($=>$.replace(/ /g,"-")));let y=[];l.value.length>0&&(y=l.value.map($=>$.replace(/ /g,"-"))),d.pathname=`/products/${v.length>0?`filterBrands/${v.join("+")}/`:""}${l.value.length?`filterCategories/${y.join("+")}/`:""}${t.value.length?`filterPrices/${t.value.join("+")}/`:""}${f.value!==""?`search/${f.value}/`:""}
  }`,d.searchParams.set("page","1"),h.value="1",i(d.pathname,{forceReload:!1,replaceState:!1,scroll:!1});const S=d.searchParams.get("page")??"1",x=await(await A("/api/products/get",{filterBrands:s.value,filterCategories:l.value,filterPrices:t.value,filter:"",query:"",page:S,sort:k.value,inStock:u.value})).json();c.value=JSON.parse(x),n.value=!1},xe=(e,r)=>{const[s]=w();return s(e,r)},P=Object.freeze(Object.defineProperty({__proto__:null,_hW:N,s_0mtY0lgsR80:me,s_5PDony1IcWM:ae,s_9E97KjFDxas:fe,s_9sqDD1KQde4:xe,s_C1PwWlqdeZ0:ie,s_HSwk7lrD9ek:we,s_Lo1QIi1R03E:ce,s_P17S0uhsH6o:he,s_Rxi1ishOvWQ:oe,s_Y2Cyqa6AbdU:Pe,s_bm0B0hHU3Bc:le,s_dKMZVKEZ7KY:de,s_et0sfNJ7JYw:ue,s_no40B14YKRI:ee,s_o0UhHCKoe78:ge,s_plyHXz5FPbs:ve,s_rpTrSWdj7Q0:G,s_v4oUbqG98gk:X,s_xJuiEC0n0rE:pe},Symbol.toStringTag,{value:"Module"}));export{N as _hW,me as s_0mtY0lgsR80,ae as s_5PDony1IcWM,fe as s_9E97KjFDxas,xe as s_9sqDD1KQde4,ie as s_C1PwWlqdeZ0,we as s_HSwk7lrD9ek,ce as s_Lo1QIi1R03E,he as s_P17S0uhsH6o,oe as s_Rxi1ishOvWQ,Pe as s_Y2Cyqa6AbdU,le as s_bm0B0hHU3Bc,de as s_dKMZVKEZ7KY,ue as s_et0sfNJ7JYw,ee as s_no40B14YKRI,ge as s_o0UhHCKoe78,ve as s_plyHXz5FPbs,G as s_rpTrSWdj7Q0,X as s_v4oUbqG98gk,pe as s_xJuiEC0n0rE};
