import{C as j}from"./q-85815eba.js";import{d,a as y,e as z,P as l,q as f,E as o,_ as i,L as g,K as v,A as I,M as h,b as _,w as q}from"./q-cea67d7a.js";import{I as $}from"./q-086cadbe.js";import{S}from"./q-3239778f.js";import{W as B}from"./q-a4c7b99d.js";import{u as C}from"./q-08309875.js";import{c as M,a as H}from"./q-429712f7.js";import{g as K}from"./q-46496603.js";import"./q-97996d90.js";const O=e=>{const a=d(!1),r=y(j),t=d([]),c=d("0"),m=d("0"),b=y(B),u=d(!1),k=d("1"),L=d(""),P=d(0);z(f(()=>Promise.resolve().then(()=>x),"s_Ho0c8lq4pHY",[k,u])),z(f(()=>Promise.resolve().then(()=>x),"s_yzxpv6GdovQ",[r,c,P,m]));const p=f(()=>Promise.resolve().then(()=>x),"s_KC4DZmNLaqo",[t]);return l("div",null,{class:"flex flex-col gap-2"},[l("div",null,{class:"navbar bg-base-100"},[l("div",null,{class:"flex-1"},l("a",null,{class:"h-fit w-fit",href:"/"},l("img",null,{alt:"xpress beauty",class:"object-contain",height:"90",src:"/logoX2.jpg",width:"130"},null,3,null),3,null),3,null),l("div",null,{class:"flex-none gap-0 md:gap-5 w-fit"},[l("div",null,{class:"dropdown dropdown-end flex flex-row"},[l("label",null,{class:"btn btn-ghost btn-circle",onClick$:f(()=>Promise.resolve().then(()=>x),"s_6UX2bBxx5mI",[a]),tabIndex:0},o(S,null,3,"zg_0"),1,null),a.value&&l("div",null,{class:"md:flex flex-col ml-auto hidden"},[l("input",null,{class:"input input-md w-full md:w-96 border-black border-5",name:"search",onInput$:p,onKeyUp$:p,placeholder:"Search",type:"search"},null,3,null),o(i,{children:t.value.length>0&&l("ul",null,{class:"z-[50] mt-12 left-4 card card-compact dropdown-content h-96 overflow-y-auto w-fit bg-base-100 shadow",tabIndex:0},l("div",null,{class:"card-body w-96"},t.value.map((n,s)=>o(i,{children:[l("li",null,{class:"text-black h-fit w-full "},[l("a",{href:`/products/${n.perfix??""}`},{class:"w-full flex flex-row md:w-full md:grid grid-cols-3 gap-3 items-center md:h-full"},[l("span",null,{class:"w-full break-all text-sm md:col-span-2"},g(n,"product_name"),1,null),o($,{src:n.imgs[0].includes("http")?n.imgs[0]:`${n.imgs[0].replace(".","")}`,get alt(){return n.product_name},class:"w-20 h-20 md:w-52 md:h-52 object-contain",[v]:{alt:I(n,"product_name"),class:v}},3,"zg_1")],1,null)," "],1,s),l("div",null,{class:"divider"},null,3,null)]},1,C())),1,null),1,"zg_2")},1,"zg_3")],1,"zg_4")],1,null),l("div",null,{class:"dropdown dropdown-end dropdown-hover "},[l("label",null,{class:"btn btn-ghost btn-circle",tabIndex:0},l("div",null,{class:"indicator"},[l("svg",null,{class:"h-5 w-5 md:h-7 md:w-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l("path",null,{d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,3,null),3,null),l("span",null,{class:"badge badge-sm indicator-item"},h(n=>n.value?n.value:0,[c]),3,null)],3,null),3,null),l("div",null,{class:"mt-3 z-50 card card-compact dropdown-content w-72  bg-white rounded-lg shadow justify-center items-center ",tabIndex:0},l("div",null,{class:"card-body w-full h-full  rounded-lg bg-white "},[l("span",null,{class:"font-bold text-lg"},[h(n=>n.value,[c])," Items"],3,null),l("span",null,{class:"text-info"},["Subtotal: ",h(n=>n.value==="1"?"$":"CA$",[k])," ",h(n=>n.value?n.value:0,[m])],3,null),l("div",null,{class:"card-actions"},[l("button",{onClick$:e.handleOnCartClick},{class:"btn bg-black btn-block text-white"},"View cart",2,null),l("p",null,{class:"text-xs text-gray-500"},h(n=>n.value?n.value:"",[L]),3,null)],1,null)],1,null),1,null)],1,null),l("div",null,{class:"dropdown dropdown-end"},[l("label",null,{class:"btn btn-ghost btn-circle",tabIndex:0},l("div",null,{class:"indicator"},[l("svg",null,{class:"h-5 w-5 md:h-7 md:w-7",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l("path",null,{d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z","stroke-linecap":"round","stroke-linejoin":"round"},null,3,null),3,null),l("span",null,{class:"badge badge-sm indicator-item"},h(n=>{var s,w;return((w=(s=n==null?void 0:n.wishList)==null?void 0:s.data)==null?void 0:w.length)??0},[b]),3,null)],3,null),3,null),l("div",null,{class:"mt-3 z-[1] card card-compact dropdown-content w-52 bg-base-100 shadow",tabIndex:0},l("div",null,{class:"card-body"},[l("span",null,{class:"font-bold text-lg"},[h(n=>{var s,w;return((w=(s=n==null?void 0:n.wishList)==null?void 0:s.data)==null?void 0:w.length)??0},[b])," Items"],3,null),l("div",null,{class:"card-actions"},l("a",null,{class:"btn bg-black text-white btn-block",href:"/wishlist"},"View wishlist",3,null),3,null)],3,null),3,null)],3,null),l("div",null,{class:"dropdown dropdown-end"},[l("label",null,{class:"btn btn-ghost btn-circle",tabIndex:0},l("div",null,{class:"w-10 rounded-full"},l("svg",null,{class:"h-5 w-5 md:h-7 md:w-7",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 12 24",xmlns:"http://www.w3.org/2000/svg"},l("path",null,{d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5","stroke-linecap":"round","stroke-linejoin":"round"},null,3,null),3,null),3,null),3,null),l("ul",null,{class:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52 hidden md:block",tabIndex:0},u.value?o(i,{children:[l("li",null,null,l("a",null,{href:"/login"},"Login",3,null),3,null),l("li",null,null,l("a",null,{href:"/register"},"Register",3,null),3,null)]},3,"zg_6"):o(i,{children:[l("li",null,null,l("a",null,{class:"justify-between",href:"/profile"},"Profile",3,null),3,null),l("li",null,null,l("button",{onClick$:e.handleLogout},null,"Logout",2,null),1,null)]},1,"zg_5"),1,null),l("ul",null,{class:"menu menu-sm dropdown-content mt-3 z-50 p-2 shadow bg-base-100 rounded-box w-52 block md:hidden",tabIndex:0},u.value?o(i,{children:[l("li",null,null,l("a",null,{"aria-label":"home",class:"lg:text-lg",href:"/"},"Home",3,null),3,null),e.categories.map((n,s)=>l("li",null,null,l("a",{"aria-label":g(n,"_id"),href:`/products/filter/${n._id}`},{class:"lg:text-lg"},g(n,"_id"),1,null),1,s)),l("li",null,null,l("a",null,{"aria-label":"Brands",class:"lg:text-lg   ",href:"/brands"},"Brands",3,null),3,null),l("li",null,null,l("a",null,{href:"/login"},"Login",3,null),3,null),l("li",null,null,l("a",null,{href:"/register"},"Register",3,null),3,null)]},1,"zg_8"):o(i,{children:[l("li",null,null,l("a",null,{"aria-label":"home",class:"lg:text-lg",href:"/"},"Home",3,null),3,null),e.categories.map((n,s)=>l("li",null,null,l("a",{"aria-label":g(n,"_id"),href:`/products/filter/${n._id}`},{class:"lg:text-lg"},g(n,"_id"),1,null),1,s)),l("li",null,null,l("a",null,{"aria-label":"Brands",class:"lg:text-lg   ",href:"/brands"},"Brands",3,null),3,null),l("li",null,null,l("a",null,{class:"justify-between",href:"/profile"},"Profile",3,null),3,null),l("li",null,null,l("button",{onClick$:e.handleLogout},null,"Logout",2,null),1,null)]},1,"zg_7"),1,null)],1,null)],1,null)],1,null),a.value&&l("div",null,{class:"md:hidden block"},[l("input",null,{class:"input input-md w-96 md:w-full border-black border-5",name:"search",onInput$:p,onKeyUp$:p,placeholder:"Search",type:"search"},null,3,null),l("div",null,{class:"divider"},null,3,null),o(i,{children:t.value.length>0&&l("ul",null,{class:"z-[50] mt-12 left-4 card card-compact dropdown-content h-96 overflow-y-auto w-fit bg-base-100 shadow",tabIndex:0},l("div",null,{class:"card-body w-96"},t.value.map((n,s)=>o(i,{children:[l("li",null,{class:"text-black h-fit w-full "},[l("a",{href:`/products/${n.perfix??""}`},{class:"w-full flex flex-row md:w-full md:grid grid-cols-3 gap-3 items-center md:h-full"},[l("span",null,{class:"w-full break-all text-sm md:col-span-2"},g(n,"product_name"),1,null),o($,{src:n.imgs[0].includes("http")?n.imgs[0]:`${n.imgs[0].replace(".","")}`,get alt(){return n.product_name},class:"w-20 h-20 md:w-52 md:h-52 object-contain",[v]:{alt:I(n,"product_name"),class:v}},3,"zg_9")],1,null)," "],1,s),l("div",null,{class:"divider"},null,3,null)]},1,C())),1,null),1,"zg_10")},1,"zg_11")],1,"zg_12")],1,"zg_13")},R=()=>{const[e]=_();e.value=!e.value},U=async()=>{const[e,a]=_(),r=await M();a.value=r,e.value=await H()},D=async e=>{const[a]=_(),r=e.target.value;if(e.key==="Enter"){const t=e.target.value;t.length>2&&(location.href=`/products/search/${t}`)}if(r.length>2){const c=await(await K(`/api/search?query=${r}`)).json();c.err||(a.value=c)}else a.value=[]},Q=({track:e})=>{var m,b;const[a,r,t,c]=_();e(()=>{var u;return(u=a==null?void 0:a.cart)==null?void 0:u.totalQuantity}),e(()=>{var u;return(u=a==null?void 0:a.cart)==null?void 0:u.totalPrice}),e(()=>{var u;return(u=a==null?void 0:a.cart)==null?void 0:u.shipping}),r.value=(m=a==null?void 0:a.cart)==null?void 0:m.totalQuantity,console.log(t.value),c.value=parseFloat((b=a==null?void 0:a.cart)==null?void 0:b.totalPrice).toFixed(2)},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:q,s_6UX2bBxx5mI:R,s_Ho0c8lq4pHY:U,s_KC4DZmNLaqo:D,s_n9tVngcL0iU:O,s_yzxpv6GdovQ:Q},Symbol.toStringTag,{value:"Module"}));export{q as _hW,R as s_6UX2bBxx5mI,U as s_Ho0c8lq4pHY,D as s_KC4DZmNLaqo,O as s_n9tVngcL0iU,Q as s_yzxpv6GdovQ};
