import{b,x as A,d as f,e as C,E as c,P as n,K as t,M as h,q as m,_ as k,w as P}from"./q-cea67d7a.js";import{validatePhone as T,useRegisterForm as L}from"./q-cf095099.js";import{K as N}from"./q-97996d90.js";import{I as p}from"./q-b432bb9e.js";import{T as S}from"./q-a7e999e2.js";import{u as $}from"./q-2da7a6ce.js";const Z=()=>{const[e]=b();e.value=""},j=()=>{const[e]=b();e.value=!0},W=async e=>{const[a,o]=b();a.value=!1;let r=e.target.value;if(r.startsWith("1")&&(r=e.target.value.slice(1)),r.startsWith("+1")&&(r=e.target.value.slice(2)),r.length!==10){o.value="";return}const u=await T(e.target.value),d=JSON.parse((u==null?void 0:u.res)??"");if(!(d.countryCode=="US"||d.countryCode=="CA")){a.value=!1,o.value="Please enter a valid USA or Canada phone number";return}o.value="",a.value=!0},z=(e,a)=>{if(a.toLowerCase().includes("email"))return/\S+@\S+\.\S+/.test(e);if(a.toLowerCase().includes("password"))return/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/.test(e);if(a.toLowerCase().includes("name"))return/^[a-zA-Z]+$/.test(e);if(a.toLowerCase().includes("phone"))return/^\+[1-9]{1}[0-9]{3,14}$/.test(e);if(a.toLowerCase().includes("otp"))return/^[0-9]{5}$/.test(e);if(a.toLowerCase().includes("postal")){const o=/^\d{5}(?:-\d{4})?$/,r=/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/;return e=e.replace(/\s+/g,"").toUpperCase(),!!(e.match(o)&&e.length===5||e.match(r)&&e.length===6)}if(a.toLowerCase().includes("address"))return/^[a-zA-Z0-9\s,'-]*$/.test(e);if(a.toLowerCase().includes("city"))return/^[a-zA-Z\s]*$/.test(e);if(a.toLowerCase().includes("country"))return/^[a-zA-Z\s]*$/.test(e);if(a.toLowerCase().includes("state"))return/^[a-zA-Z\sÃ©]*$/.test(e)},M=e=>{const[a]=b(),o=e.target.value;if(o.length<2){a.value=!0;return}const r=z(o,"password");a.value=r??!0},V=()=>{A();const e=L(),a=f(!1),o=f(""),r=f(""),u=f(!0),d=f(!1),v=f(""),w=$(),x=m(()=>Promise.resolve().then(()=>g),"s_7WiQS6d3ZD4",[r]),y=m(()=>Promise.resolve().then(()=>g),"s_A6NT0aUm4GQ",[d,v]);return C(m(()=>Promise.resolve().then(()=>g),"s_BNDls5vghfA",[e,a,r,o]),{strategy:"document-idle"}),c(k,{children:n("div",null,{class:"p-2 flex flex-col md:flex-row md:bg-[url('/Registration.webp')] md:bg-contain h-full w-full bg-no-repeat lg:bg-left bg-center justify-end items-center md:pr-14"},[n("div",null,{class:"w-full h-96 bg-no-repeat md:hidden bg-[url('/Registration.webp')] bg-contain bg-center"}," ",3,null),n("script",null,{src:"https://www.google.com/recaptcha/api.js?render=6Lc3M80jAAAAAJcoRLiwoul9szk5DYiYx9VIR2HE"},null,3,null),c(N,{action:e,children:n("div",null,{class:"card w-full md:w-[35rem] h-fit mb-5 mt-5 shadow-xl bg-[#F4F4F5] flex flex-col justify-center items-center gap-5 p-5"},[r.value&&n("div",null,{class:"w-full"},c(S,{handleClose:x,status:"e",get message(){return r.value},index:1,[t]:{handleClose:t,index:t,message:h(l=>l.value,[r]),status:t}},3,"bT_0"),1,"bT_1"),n("div",null,{class:"flex flex-col gap-6 justify-center items-center p-5"},[n("h1",null,{class:"text-black text-lg font-bold"},"Sign up now",3,null),n("p",null,{class:"text-black font-light text-base"},"If you don't yet have an online account on xpressbeauty.ca , Create one now to shop online, access special promotions, register for education and events, leave product reviews as well as view and track all orders.",3,null)],3,null),n("div",null,{class:"flex flex-row gap-5"},[c(p,{identifier:"firstName",label:"First Name",placeholder:"John",type:"text",[t]:{identifier:t,label:t,placeholder:t,type:t}},3,"bT_2"),c(p,{identifier:"lastName",label:"Last Name",placeholder:"Doe",type:"text",[t]:{identifier:t,label:t,placeholder:t,type:t}},3,"bT_3")],1,null),n("div",null,{class:"flex flex-col gap-1 w-full justify-start"},[c(p,{label:"Email",placeholder:"example@gmail.com",get validation(){var l,s;return(s=(l=e==null?void 0:e.value)==null?void 0:l.validation)==null?void 0:s.email},identifier:"email",type:"text",[t]:{identifier:t,label:t,placeholder:t,type:t,validation:h(l=>{var s,i;return(i=(s=l==null?void 0:l.value)==null?void 0:s.validation)==null?void 0:i.email},[e])}},3,"bT_4"),n("p",null,{class:"text-black text-sm font-light"},"We will send you a confirmation email to verify your email address.",3,null)],1,null),n("div",null,{class:"flex flex-col gap-1 justify-start"},[v.value!==""&&n("p",null,{class:"text-error text-sm font-light"},h(l=>l.value,[v]),3,"bT_5"),c(p,{label:"Phone Number",placeholder:"1234567891",get validation(){var l,s;return(s=(l=e==null?void 0:e.value)==null?void 0:l.validation)==null?void 0:s.phoneNumber},handleOnChange:y,identifier:"phoneNumber",type:"text",[t]:{handleOnChange:t,identifier:t,label:t,placeholder:t,type:t,validation:h(l=>{var s,i;return(i=(s=l==null?void 0:l.value)==null?void 0:s.validation)==null?void 0:i.phoneNumber},[e])}},3,"bT_6"),n("input",null,{id:"isPhoneValid",name:"isPhoneValid",type:"hidden",value:h(l=>l.value.toString(),[d])},null,3,null),n("p",null,{class:"text-black text-sm font-light"},"We will send you a confirmation text to verify your phone number. Please make sure you enter a USA or Canada phone number without the country code.",3,null)],1,null),n("div",null,{class:"flex flex-col"},[n("p",null,{class:"text-black text-sm font-light"},"Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number and one special character.",3,null),c(p,{label:"Password",placeholder:"**********",get validation(){var l,s;return u.value??((s=(l=e==null?void 0:e.value)==null?void 0:l.validation)==null?void 0:s.password)},handleOnChange:m(()=>Promise.resolve().then(()=>g),"s_BuM2s9GwKWY",[u]),identifier:"password",type:"password",[t]:{identifier:t,label:t,placeholder:t,type:t,validation:h((l,s)=>{var i,_;return s.value??((_=(i=l==null?void 0:l.value)==null?void 0:i.validation)==null?void 0:_.password)},[e,u])}},3,"bT_7")],1,null),c(p,{label:"Confirm Password",placeholder:"**********",get validation(){var l,s;return(s=(l=e==null?void 0:e.value)==null?void 0:l.validation)==null?void 0:s.confirmPassword},identifier:"confirmPassword",type:"password",[t]:{identifier:t,label:t,placeholder:t,type:t,validation:h(l=>{var s,i;return(i=(s=l==null?void 0:l.value)==null?void 0:s.validation)==null?void 0:i.confirmPassword},[e])}},3,"bT_8"),n("input",null,{id:"recaptcha",name:"recaptcha",type:"hidden",value:h(l=>l.value,[o])},null,3,null),n("button",null,{class:"btn w-full bg-black text-white text-lg",onClick$:m(()=>Promise.resolve().then(()=>g),"s_ehZ6uZNv50w",[a]),type:"submit"},[a.value&&n("span",null,{class:"loading loading-spinner"},null,3,"bT_9"),"Sign up"],1,null),n("div",null,{class:"flex items-center justify-center dark:bg-gray-800"},n("button",null,{class:"px-4 py-2 border flex gap-2 border-slate-200 dark:border-slate-700 rounded-lg text-slate-700 dark:text-slate-200 hover:border-slate-400 dark:hover:border-slate-500 hover:text-slate-900 dark:hover:text-slate-300 hover:shadow transition duration-150",onClick$:m(()=>Promise.resolve().then(()=>g),"s_Qow67ekq8rU",[w]),type:"button"},[n("img",null,{alt:"google logo",class:"w-6 h-6",loading:"lazy",src:"https://www.svgrepo.com/show/475656/google-color.svg"},null,3,null),n("span",null,null,"Register with Google",3,null)],3,null),3,null)],1,null),reloadDocument:!1,[t]:{action:t,reloadDocument:t}},1,"bT_10")],1,null)},1,"bT_11")},D=()=>{const[e]=b();return e.submit({providerId:"google",options:{callbackUrl:"https://xpressbeauty.ca/api/auth/callback/google"}})},I=({track:e})=>{var d,v,w,x,y,l;const[a,o,r,u]=b();e(()=>{var s;return(s=a.value)==null?void 0:s.status}),o.value=!1,((d=a.value)==null?void 0:d.status)==="failed"&&(console.log((v=a.value)==null?void 0:v.err),r.value=((w=a.value)==null?void 0:w.err)??""),((x=a.value)==null?void 0:x.status)==="success"&&(window.location.href="/emailVerify?token="+((y=a.value)==null?void 0:y.token)),(l=window.grecaptcha)==null||l.ready(async()=>{const s=await window.grecaptcha.execute("6Lc3M80jAAAAAJcoRLiwoul9szk5DYiYx9VIR2HE",{action:"submit"});u.value=s})},g=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_7WiQS6d3ZD4:Z,s_A6NT0aUm4GQ:W,s_BNDls5vghfA:I,s_BuM2s9GwKWY:M,s_Qow67ekq8rU:D,s_ehZ6uZNv50w:j,s_mNllT1a2WqI:V},Symbol.toStringTag,{value:"Module"}));export{P as _hW,Z as s_7WiQS6d3ZD4,W as s_A6NT0aUm4GQ,I as s_BNDls5vghfA,M as s_BuM2s9GwKWY,D as s_Qow67ekq8rU,j as s_ehZ6uZNv50w,V as s_mNllT1a2WqI};
